{% extends 'base.html' %}
{% load humanize %}
{% load static %}
{% block page_content %}
<!-- statistics (small charts) -->
{% if request.user.profile.is_union %}
    <div class="uk-grid uk-grid-width-large-1-4 uk-grid-width-medium-1-2 uk-grid-medium uk-sortable sortable-handler " data-uk-sortable data-uk-grid-margin>
        <div>
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_visitors peity_data">5,3,9,6,5,9,7</span></div>
                    <span class="uk-text-muted uk-text-small">Members</span>
                    <h2 class="uk-margin-remove">{{ members }}</h2>
                    <table class="uk-table">
                        <thead>
                            <tr>
                                <th>Male</th>
                                <th>Females</th>
                                <th>Youth</th>
                                <th>Refugee</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{ male|intcomma }}</td>
                                <td>{{ female|intcomma }}</td>
                                <td>{{ female|intcomma }}</td>
                                <td>{{ female|intcomma }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div>
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_orders peity_data">64/100</span></div>
                    <span class="uk-text-muted uk-text-small">Cooperatives</span>
                    <h2 class="uk-margin-remove">{{ cooperatives|intcomma }}</h2>
                </div>
            </div>
        </div>
        <div>
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_live peity_data">5,3,9,6,5,9,7,3,5,2,5,3,9,6,5,9,7,3,5,2</span></div>
                    <span class="uk-text-muted uk-text-small">Suppliers</span>
                    <h2 class="uk-margin-remove" id="peity_live_text">{{ suppliers|intcomma }}</h2>
                </div>
            </div>
        </div>
        <div>
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_live peity_data">5,3,9,6,5,9,7,3,5,2,5,3,9,6,5,9,7,3,5,2</span></div>
                    <span class="uk-text-muted uk-text-small">Agents</span>
                    <h2 class="uk-margin-remove" id="peity_live_text">{{ agents|intcomma }}</h2>
                </div>
            </div>
        </div>

    </div>
  {% endif %}

{% if request.user.profile.is_union %}
    <div class="uk-grid uk-grid-width-large-1-4 uk-grid-width-medium-1-2 uk-grid-medium uk-sortable sortable-handler " data-uk-sortable data-uk-grid-margin>
        <div>
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_visitors peity_data">5,3,9,6,5,9,7</span></div>
                    <span class="uk-text-muted uk-text-small">Collections</span>
                    <h2 class="uk-margin-remove">{{ collections|intcomma }} Kgs</h2>
                    <strong>{{ collection_amt|intcomma }} UGX</strong>
                </div>
            </div>
        </div>
       
        <div>
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_orders peity_data">64/100</span></div>
                    <span class="uk-text-muted uk-text-small">Loans</span>
                    <h2 class="uk-margin-remove">{{ loans|intcomma }}</h2>
                    <strong> Sum: {{ sum_loans.sum|intcomma }}</strong>
                </div>
            </div>
        </div>
        <div>
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_live peity_data">5,3,9,6,5,9,7,3,5,2,5,3,9,6,5,9,7,3,5,2</span></div>
                    <span class="uk-text-muted uk-text-small">Orders</span>
                    <h2 class="uk-margin-remove" id="peity_live_text">{{ orders|intcomma }}</h2>
                </div>
            </div>
        </div>
        <div>
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_live peity_data">5,3,9,6,5,9,7,3,5,2,5,3,9,6,5,9,7,3,5,2</span></div>
                    <span class="uk-text-muted uk-text-small">SMS's Sent</span>
                    <h2 class="uk-margin-remove" id="peity_live_text">{{ sms|intcomma }}</h2>
                </div>
            </div>
        </div>
    </div>
  {% endif %}
    
    {% if request.user.profile.is_union or request.user.profile.is_cooperative %}
    <!-- tasks -->
    <div class="uk-grid" data-uk-grid-margin data-uk-grid-match="{target:'.md-card-content'}">
        <div class="uk-width-medium-1-2">
            <div class="md-card">
                <div class="md-card-content">
                    <h4>Cooperative Summary</h4>
                    <div class="uk-overflow-container">
                        <table class="uk-table">
                            <thead>
                                <tr>
                                    <th class="uk-text-nowrap">Cooperative</th>
                                    <th class="uk-text-nowrap">Agent</th>
                                    <th class="uk-text-nowrap">Members</th>
                                    <th class="uk-text-nowrap uk-text-right">Male</th>
                                    <th class="uk-text-nowrap uk-text-right">Female</th>
                                    <th class="uk-text-nowrap uk-text-right">Youth</th>
                                    <th class="uk-text-nowrap uk-text-right">Is Refugee</th>
                                    <th class="uk-text-nowrap uk-text-right">Is Handicup</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for cs in coop_summary %}
                                <tr class="uk-table-middle">
                                    <td class="uk-width-3-10 uk-text-nowrap"><a href="">{{ cs.name }}</a></td>
                                    <td class="uk-width-2-10 uk-text-nowrap">{{ cs.agents_count|intcomma }}</td>
                                    <td class="uk-width-2-10 uk-text-nowrap">{{ cs.member_count|intcomma }}</td>
                                    <td class="uk-width-2-10 uk-text-nowrap">{{ cs.male_count|intcomma }}</td>
                                    <td class="uk-width-2-10 uk-text-right uk-text-muted uk-text-small">{{ cs.female_count|intcomma }}</td>
                                    <td class="uk-width-2-10 uk-text-right uk-text-muted uk-text-small">{{ cs.refugee_count|intcomma }}</td>
                                    <td class="uk-width-2-10 uk-text-right uk-text-muted uk-text-small">{{ cs.handicup_count|intcomma }}</td>
                                    <td class="uk-width-2-10 uk-text-right uk-text-muted uk-text-small">{{ cs.youth_count|intcomma }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="uk-width-medium-1-2">
            <div class="md-card">
                <div class="md-card-content">
                    <h4>Member Per District </h4>
                    <div class="uk-overflow-container">
                        <table class="uk-table">
                            <thead>
                                <tr>
                                    <th class="uk-text-nowrap">District</th>
                                    <th class="uk-text-nowrap">Farmers</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for ds in district_summary %}
                                <tr class="uk-table-middle">
                                    <td class="uk-width-3-10 uk-text-nowrap"><a href="">{{ ds.district__name }}</a></td>
                                    <td class="uk-width-2-10 uk-text-nowrap">{{ ds.dc|intcomma }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    {% endif %}
    <!-- Prices -->
    <!-- tasks -->
{% if request.user.profile.is_union or request.user.profile.is_cooperative %}
    <div class="uk-grid" data-uk-grid-margin data-uk-grid-match="{target:'.md-card-content'}">
        <div class="uk-width-medium-1-2">
            <div class="md-card">
                <div class="md-card-content">
                    <h4>Product Prices</h4>
                    <div class="uk-overflow-container">
                        <table class="uk-table">
                            <thead>
                                <tr>
                                    <th class="uk-text-nowrap">Product</th>
                                    <th class="uk-text-nowrap">Price</th>
                               </tr>
                            </thead>
                            <tbody>
                                {% for p in product_price %}
                                <tr class="uk-table-middle">
                                    <td class="uk-width-2-10 uk-text-nowrap">{{ p.product }}</td>
                                    <td class="uk-width-2-10 uk-text-nowrap"><b>{{ p.price|intcomma }} per {{ p.unit.code }}<b></td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="uk-width-medium-1-2">
            <div class="md-card">
                <div class="md-card-content">
                    <h4>Member Collection</h4>
                    <div class="uk-overflow-container">
                        <table class="uk-table">
                            <thead>
                                <tr>
                                    <th class="uk-text-nowrap">Member</th>
                                    <th class="uk-text-nowrap">Qunatity</th>
                                    <th class="uk-text-nowrap">Amount</th>
                                    <th class="uk-text-nowrap">Collection Date</th>
                               </tr>
                            </thead>
                            <tbody>
                                {% for sr in collections_latest %}
                                    
                                    <tr class="uk-table-middle">
                                        <td class="uk-width-2-10 uk-text-nowrap"><a href="{% url 'coop:request_detail' sr.id %}">{{ sr.member }}</a></td>
                                        <td class="uk-width-2-10 uk-text-nowrap"><b>{{ sr.quantity }}<b></td>
                                        <td class="uk-width-2-10 uk-text-nowrap"><b>{{ sr.total_price }}<b></td>
                                        <td class="uk-width-2-10 uk-text-nowrap"><b>{{ sr.create_date|date:'d, M Y'  }}<b></td>
                                    </tr>
                                   
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="uk-grid" data-uk-grid-margin data-uk-grid-match="{target:'.md-card-content'}">
        <div class="uk-width-medium-1-2">
            <div class="md-card">
                <div class="md-card-content">
                    <h4>Training</h4>
                    <div class="uk-overflow-container">
                        <table class="uk-table">
                            <thead>
                                <tr>
                                    <th class="uk-text-nowrap">Trainer</th>
                                    <th class="uk-text-nowrap">Members Trained</th>
                                    <th class="uk-text-nowrap">Duration</th>
                                    <th class="uk-text-nowrap">Trainind Date</th>
                               </tr>
                            </thead>
                            <tbody>
                                {% for p in training %}
                                <tr class="uk-table-middle">
                                    <td class="uk-width-2-10 uk-text-nowrap">{{ p.product }}</td>
                                    <td class="uk-width-2-10 uk-text-nowrap">{{ p.coop_member.count }}</td>
                                    <td class="uk-width-2-10 uk-text-nowrap">{{ p.duration }}</td>
                                    <td class="uk-width-2-10 uk-text-nowrap"><b>{{ p.training_start|date:'d, M Y' }}</b></td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
        <!--<div class="uk-width-medium-1-2">-->
        <!--    <div class="md-card">-->
        <!--        <div class="md-card-content">-->
        <!--            <h4>Member Collection</h4>-->
        <!--            <div class="uk-overflow-container">-->
        <!--                <table class="uk-table">-->
        <!--                    <thead>-->
        <!--                        <tr>-->
        <!--                            <th class="uk-text-nowrap">Member</th>-->
        <!--                            <th class="uk-text-nowrap">Qunatity</th>-->
        <!--                            <th class="uk-text-nowrap">Amount</th>-->
        <!--                            <th class="uk-text-nowrap">Collection Date</th>-->
        <!--                       </tr>-->
        <!--                    </thead>-->
        <!--                    <tbody>-->
        <!--                        {% for sr in collections_latest %}-->
        <!--                            -->
        <!--                            <tr class="uk-table-middle">-->
        <!--                                <td class="uk-width-2-10 uk-text-nowrap"><a href="{% url 'coop:request_detail' sr.id %}">{{ sr.member }}</a></td>-->
        <!--                                <td class="uk-width-2-10 uk-text-nowrap"><b>{{ sr.quantity }}<b></td>-->
        <!--                                <td class="uk-width-2-10 uk-text-nowrap"><b>{{ sr.total_price }}<b></td>-->
        <!--                                <td class="uk-width-2-10 uk-text-nowrap"><b>{{ sr.create_date }}<b></td>-->
        <!--                            </tr>-->
        <!--                           -->
        <!--                        {% endfor %}-->
        <!--                    </tbody>-->
        <!--                </table>-->
        <!--            </div>-->
        <!--        </div>-->
        <!--    </div>-->
        <!--</div>-->
    </div>
    
    <!-- tasks -->
    <!--<div class="uk-grid" data-uk-grid-margin data-uk-grid-match="{target:'.md-card-content'}">
        <div class="uk-width-medium-1-2">
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-overflow-container">
                        <table class="uk-table">
                            <thead>
                                <tr>
                                    <th class="uk-text-nowrap">Member</th>
                                    <th class="uk-text-nowrap">Contribution</th>
                                    <th class="uk-text-nowrap uk-text-right">Date</th>
                                </tr>
                            </thead>
                            <tbody>
                               <tbody>
                                <tr class="uk-table-middle">
                                    <td class="uk-width-3-10 uk-text-nowrap"><a href="scrum_board.html">ALTR-231</a></td>
                                    <td class="uk-width-2-10 uk-text-nowrap"></td>
                                    <td class="uk-width-2-10 uk-text-right uk-text-muted uk-text-small">24.11.2015</td>
                                </tr>
                            </tbody>
                           
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="uk-width-medium-1-2">
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-overflow-container">
                        <table class="uk-table">
                            <thead>
                                <tr>
                                    <th class="uk-text-nowrap">Member</th>
                                    <th class="uk-text-nowrap">Shares</th>
                                    <th class="uk-text-nowrap uk-text-right">Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tbody>
                                <tr class="uk-table-middle">
                                    <td class="uk-width-3-10 uk-text-nowrap"><a href="scrum_board.html">ALTR-231</a></td>
                                    <td class="uk-width-2-10 uk-text-nowrap"></td>
                                    <td class="uk-width-2-10 uk-text-right uk-text-muted uk-text-small">24.11.2015</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- info cards -->
    {% endblock %}
    {% block page_specific_scripts %}
    <!-- page specific plugins -->
        <!-- d3 -->
        <script src="{% static 'bower_components/d3/d3.min.js' %}"></script>
        <!-- metrics graphics (charts) -->
        <!--<script src="{% static 'bower_components/metrics-graphics/dist/metricsgraphics.min.js' %}"></script>-->
        <!-- chartist (charts) -->
        <!--<script src="{% static 'bower_components/chartist/dist/chartist.min.js' %}"></script>-->
        <!-- maplace (google maps) -->
       <!-- <script src="http://maps.google.com/maps/api/js?sensor=true"></script>-->
        <!--<script src="{% static 'bower_components/maplace-js/dist/maplace.min.js' %}"></script>-->
        <!-- peity (small charts) -->
        <!--<script src="{% static 'bower_components/peity/jquery.peity.min.js' %}"></script>-->
        <!-- easy-pie-chart (circular statistics) -->
        <!--<script src="{% static 'bower_components/jquery.easy-pie-chart/dist/jquery.easypiechart.min.js' %}"></script>-->
        <!-- countUp -->
        <script src="{% static 'bower_components/countUp.js/countUp.min.js' %}"></script>
        <!-- handlebars.js -->
        <!--<script src="{% static 'bower_components/handlebars/handlebars.min.js' %}"></script>-->
        <!--<script src="{% static 'assets/js/custom/handlebars_helpers.min.js' %}"></script>-->
        <!-- CLNDR -->
        <!--<script src="{% static 'bower_components/clndr/src/clndr.js' %}"></script>-->
        <!-- fitvids -->
        <!--<script src="{% static 'bower_components/fitvids/jquery.fitvids.js' %}"></script>-->

        <!--  dashbord functions -->
        <script src="{% static 'assets/js/pages/dashboard.min.js' %}"></script>
    
    

   <script>
        $(function() {
            });
    </script>
    {% endblock %}-->